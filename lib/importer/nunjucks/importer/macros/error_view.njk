{% from "importer/macros/table_view.njk" import tableView %}

{#
    importerErrorView displays errors from the result of a mapping attempt.

    These errors are grouped so that similar errors in the same column are
    shown together, and each side of the error there should also be a single
    row of non-erroring data for context where possible.

    The expected error/warning structure from the API is as follows:

#}
{% macro importerErrorView(session ) %}
{# importerHeaderRowDisplay(session, "index") #}
    {% set tableHeaders =  ["A", "B", "C"] %}

    {% set rows = [
        {index: 1, row: [{value:"1"}, {value:"4"}, {value:"5"}]},
        {index: 2, row: [{value:"2"}, {value:"3"}, {value:"6"}]}
    ] %}
    {% set caption = "Errors!" %}

    {{ tableView( {
            caption: "Errors",
            showHeaders: true,
            headers: tableHeaders,
            showRowNumbers: true,
            rows: rows,
            moreRowsCount: 0
        } )
    }}

{% endmacro %}
