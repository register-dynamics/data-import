
{% from "importer/macros/table_view.njk" import dudkTableView %}

{% macro dudkHeaderSelector(params) %}
    {% set rows = importerGetRows(params.data, params.start, params.count) %}
    {% set caption = importerGetTableCaption(params.data, "First", params.count) %}

    {% set currentSelection = params.current %}
    {% set setSelectionValue = currentSelection.start.row > -1 %}

    <div>
        <input type="hidden" name="importer:selection:TLRow" id="importer:selection:TLRow" {% if setSelectionValue %} value="{{ currentSelection.start.row }}" {% endif %}/>
        <input type="hidden" name="importer:selection:TLCol" id="importer:selection:TLCol" {% if setSelectionValue %} value="{{ currentSelection.start.column }}" {% endif %}/>
        <input type="hidden" name="importer:selection:BRRow" id="importer:selection:BRRow" {% if setSelectionValue %} value="{{ currentSelection.end.row }}" {% endif %}/>
        <input type="hidden" name="importer:selection:BRCol" id="importer:selection:BRCol" {% if setSelectionValue %} value="{{ currentSelection.end.column }}" {% endif %}/>
    </div>

    <div class="rd-range-selector">
            {{ dudkTableView({data: params.data, rows: rows, caption: caption, headerMode: "none"}) }}
    </div>
{% endmacro %}

{# Deprecated: Use dudkHeaderSelector #}
{% macro importerHeaderSelector(data, start, count=10) %}
    {{ dudkHeaderSelector({data:data, start:start, count:count}) }}
{% endmacro %}
