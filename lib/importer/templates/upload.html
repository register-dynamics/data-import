{% extends "layouts/main.html" %}

{% from "govuk/components/file-upload/macro.njk" import govukFileUpload %}

{% block pageTitle %} {{ serviceName }} â€“ GOV.UK Prototype Kit {% endblock %}
{% block beforeContent %}
{{ govukBackLink({ text: "Back", href: "javascript:window.history.back()" }) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">Upload your data</h1>

        <!-- Upload to select sheet, but in automatic mode, will go to header selection instead -->
        <form action="{{importerUploadPath('/select_sheet', '/select_header_row')}}" method="POST" enctype="multipart/form-data">
            <div>
                {{ govukFileUpload({
                id: "file-upload",
                name: "file",
                label: { text: "Upload an XLSX, ODS, or CSV file"},
                attributes: { "accept": ".xlsx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv,text/csv,application/vnd.oasis.opendocument.spreadsheet,.ods"},
                errorMessage: importerError(data)
                })
                }}
            </div>
            <div class="govuk-button-group">
                {{ govukButton({ text: "Upload" }) }}
            </div>
        </form>
    </div>
</div>


{% endblock %}
