{% extends "layouts/main.html" %}

{% block pageTitle %} {{ serviceName }} â€“ GOV.UK Prototype Kit {% endblock %}

{% block beforeContent %}
{{
    govukBreadcrumbs({
      items: [
        {
          text: "Home",
          href: "/"
        },
        {
            text: "Upload spreadsheet",
            href: "/upload"
        },
        {
          text: "Select sheet",
          href: "/select_sheet"
        },
        {
            text: "Select header row",
            href: "/select_header_row"
        },
        {
            text: "Select footer row",
            href: "/select_footer_row"
        },
        {
            text: "Identify columns",
            href: "/mapping"
        }
      ]
    })
  }}
{% endblock %}

{% from "importer/macros/field_mapper.njk" import importerFieldMapper %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <h1 class="govuk-heading-l">Identify columns</h1>
        <p class="govuk-body">
            Select which columns from your sheet, which are shown on the left, contain the information required
            by this service by choosing a value from the dropdown. You can ignore any columns that contain information
            that this service doesn't need.
        </p>

        <h2 class="govuk-heading-m">{{sheet}}</h2>

        <form action="{{ importerMapDataPath('/review') }}" method="post">

            {{ importerFieldMapper(data) }}

            <div class="govuk-grid-column-two-thirds">
                <div class="govuk-button-group">
                    {{ govukButton({ text: "Submit" }) }}
                </div>
            </div>

        </form>
    </div>
</div>
{% endblock %}
